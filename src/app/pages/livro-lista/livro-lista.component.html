<app-title title="CatalÃ³go de Livros">

</app-title>

<table class="table table-striped">
  <thead class="table-dark">

      <tr>
        @for(column of COLUMNS;track column)
        {
          <th scope="col" >{{column}}</th>
        }

      </tr>
  </thead>
  <tbody>
    @for(livro of livros;track livro._id){
      <tr>

        <td >
            <div >
                <div class="w-100">{{livro.titulo}}</div>
                <button [disabled]="isDeletingMap.get(livro._id)" (click)="excluirLivro(livro)" type="button" class="btn btn-danger mt-3">
                  @if(isDeletingMap.get(livro._id)){
                    <span  class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                  }
                  Excluir
                </button>
            </div>

        </td>
        <td>{{livro.resumo}}</td>
        <td>{{livro.editora}}</td>
        <td>
            <ul>
              @for(autor of livro.autores;track autor){
                <li>{{autor}}</li>
              }
            </ul>
        </td>


      </tr>

    }

  </tbody>
</table>
@if(isFetching)
{
<div class="d-flex justify-content-center">
  <span style="width: 4em;height: 4em" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>

</div>

}
